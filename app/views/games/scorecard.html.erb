<%# <h1>Scorecard</h1> %>

    <div class="container-scores card-pub">
      <h2>Congratulations on completing the <%= @game.course.name %></h2>
<<<<<<< HEAD
        <%# <%= @game %>
       <%# <p> <% @pubs.each do |pub|  </p>  %>
      <%# <div class="card-pub"> %>
        <p class="participant-name"><%= current_user.first_name  %></p>
        <%# <p class="pub-name"><%= pub.name </p>  %>
        <%# <% raise %>
        <%# <p class="pub-score">Your score: <%= @pub_score.score </p> %>
        <%# <p class="pub-strokes">Par: <%= pub.strokes</p> %>
        <%# <%end%>
      <%# </div> %>
      <%# <div class="container-participants"> %>
        <%# <% @participants.each do |participant|%>
        <%# <%= participant.user.first_name %>
        <%# <%end%>
      <%# </div> %>
    </div>




<!--
<div class="row mt-4">
    <div class="col-12">
      <h1>Scorecard:</h1>
      <%# @pubs.each do |pub| %>-->
<!--        <h3><%#= pub.name %></h3>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Participant</th>
              <th>Score</th>
            </tr>
          </thead>
          <tbody>
            <%# @game.participants.each do |participant| %>-->
              <%# if participant.status == 'accepted' || participant.user_id == @game.user_id %>
<!--              <tr>
                <td><%#= participant.user.first_name %></td>
                <td>
                  <%# score = participant.pub_scores.find_or_initialize_by(pub: pub) %>-->
                  <%# if participant.user == current_user %>
                    <%# if score.new_record? %>
                      <%#= form_with(model: [participant, score], local: true, class: 'form-inline') do |form| %>
                        <%#= form.number_field :score, class: 'form-control' %>
                        <%#= form.hidden_field :participant_id %>
                        <%#= form.hidden_field :pub_id, value: pub.id %>
                        <%#= form.submit "Save", class: 'btn btn-primary ml-2' %>
                      <%# end %>
                    <%# else %>
                      <%#= score.score %>
                    <%# end %>
                  <%# else %>
                    <%#= score&.score || "No Score" %>
                  <%# end %>
<!--                </td>
              </tr>
              <%# end %>-->
            <%# end %>
<!--          </tbody>
        </table>
      <%# end %>-->
<!--    </div>
  </div>-->

<div class="container-scorecard card-pub">
  <table class="card-pub table-bordered">
    <thead>
    </thead>
      <tr>
        <td scope="col">Pub Name</td>
        <% @pubs.each do |pub|%>
      <td scope="col"><%= pub.name %></td>
      <%end%>
=======
        <p class="participant-name"><%= current_user.first_name  %></p>
    </div>

<div class="container-scores card-pub">
  <table class="table card-pub table-bordered">
    <thead>
      <tr>
        <th scope="col">Player</th>
        <% @pubs.each do |pub| %>
          <th scope="col"><%= pub.name %></th>
        <% end %>
>>>>>>> master
      </tr>
      <tr>
        <td scope="col">Pub Drink</td>
        <% @pubs.each do |pub|%>
      <td scope="col"><%=pub.drink %> </td>
        <%end%>
      </tr>
      <tr>
        <td scope="col">Par Score</td>
        <% @pubs.each do |pub|%>
      <td scope="col"><%= pub.strokes %> </td>
        <%end%>
      </tr>
<<<<<<< HEAD
      <tr>
        <%@pubs.each do |pub|%>
          <% @participants.each do |participant| %>
            <% score = participant.pub_scores.find_or_initialize_by(pub: pub)%>
            <% if score.score.present? %>
              <td scope="col"><%= participant.user.first_name %> </td>
            <%  end %>
          <%  end %>
               <%  break %>
        <%  end %>
         <%@pubs.each do |pub|%>
          <% @participants.each do |participant| %>
            <% score = participant.pub_scores.find_or_initialize_by(pub: pub)%>
            <% if score.score.present? %>
              <td scope="col"><%= score.score %> </td>
            <%  end %>
          <%  end %>
        <%  end %>
      </tr>
<!--      <tr>-->
        <%#@pubs.each do |pub|%>
          <%# @participants.each do |participant| %>
            <%# if participant.total_score.present? %>
<!--              <td scope="col"><%#= participant.total_score %> </td>-->
            <%#  end %>
          <%#  end %>
               <%#  break %>
        <%#  end %>
<!--      </tr>-->
    <%# <tr>
      <% @pubs.each do |pub| %>
      <%# <% @game.participants.each do |participant| %>
      <%# <% score = participant.pub_scores.find_or_initialize_by(pub: pub) %>
      <%# <td scope="col"> <%= score.score</td> %>
      <%# <%end%>
      <%# <%end %>
    <%# </tr> %>
  </table>
=======
    </thead>
    <tbody>
      <% @participants.each do |participant| %>
        <tr>
          <td><%= participant.user.first_name %></td>
          <% @pubs.each do |pub| %>
            <% score = participant.pub_scores.find_by(pub: pub) %>
            <td><%= score&.score || "-" %></td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

 <div class="card-pub">
    <h6>Total Scores:</h6>
    <% @game.participants.each do |participant| %>
      <p><%= participant.user.first_name %>: <%= participant.total_score %></p>
    <% end %>
>>>>>>> master
</div>
